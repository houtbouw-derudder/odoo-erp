<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record model="ir.ui.view" id="cost_formula_item_form">
        <field name="name">cost.formula.item.form</field>
        <field name="model">cost.formula.item</field>
        <field name="priority" eval="16" />
        <field name="arch" type="xml">
            <form string="Cost item">
                <field name="condition" />
                <field name="quantity_expression" />
            </form>
        </field>
    </record>

	<record model="ir.ui.view" id="cost_formulas_tree">
		<field name="name">cost.formula.tree</field>
		<field name="model">cost.formula</field>
		<field name="priority" eval="16"/>
		<field name="arch" type="xml">
			<tree string="Cost formulas">
				<field name="name" />
				<field name="description" />
                <field name="product_id" />
			</tree>
		</field>
	</record>

	<record model="ir.ui.view" id="cost_formulas_form">
		<field name="name">cost.formula.form</field>
		<field name="model">cost.formula</field>
		<field name="priority" eval="16"/>
		<field name="arch" type="xml">
			<form string="Cost formula">
				<header>
					<button string="Confirm" type="object" name="action_confirm" states="draft" class="oe_highlight" />
					<button string="Cancel" type="object" name="action_cancel" states="confirmed" class="oe_highlight"/>
					<button string="Reset to draft" type="object" name="action_draft" states="cancel" />
					<field name="state" widget="statusbar"/>
				</header>
				<sheet>
					<div class="oe_title">
						<label for="name" class="oe_edit_only" string="Name" />
						<h1>
							<field name="name" />
						</h1>
					</div>
					<group colspan="2" col="2">
						<field name="description" placeholder="Cost formula description ..." />
						<field name="parameters" />
						<field name="view" />
						<field name="cost_item_ids" context="{}">
							<tree editable="bottom" string="Cost Items" default_order="sequence, id">
								<field name="condition" />
								<field name="quantity_expression" />
							</tree>
						</field>
					</group>
				</sheet>
				<div class="oe_chatter">
					<field name="message_follower_ids" widget="mail_followers"/>
					<field name="message_ids" widget="mail_thread"/>
				</div>
			</form>
		</field>
	</record>
	<record model="ir.actions.act_window" id="cost_formulas_list_action">
		<field name="name">Cost formulas</field>
		<field name="res_model">cost.formula</field>
		<field name="view_mode">tree,form</field>
		<field name="help" type="html">
			<p class="o_view_nocontent_smiling_face">Create the first cost formula</p>
		</field>
	</record>
	<menuitem id="main_cost_formulas_menu" name="Cost formulas"/>
	<menuitem id="cost_formulas_menu" name="Cost formulas" parent="main_cost_formulas_menu"/>
	<menuitem id="cost_formulas_formula_menu" name="Formulas" parent="cost_formulas_menu" action="cost_formulas_list_action"/>
</odoo>